<!--
  Generated template for the UserFeedPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar color="orange">
    <button ion-button menuToggle icon-only><ion-icon name="menu"></ion-icon></button>
    <ion-title>SocialSolver</ion-title>
  </ion-navbar>
</ion-header>


<ion-content padding>

	<ion-card>
		<ion-item>
			<ion-label>Filtrar</ion-label>	
			<ion-select [(ngModel)]="filter" (ionChange)="selectFilter()">
				<ion-option value="MaisRecentes">Mais recentes</ion-option>
				<ion-option value="MaisAntigos">Mais antigos</ion-option>
				<ion-option value="MaisUps">Mais ups</ion-option>
				<ion-option value="MenosUps">Menos ups</ion-option>
				<ion-option value="TituloAZ">Título A-Z</ion-option>
				<ion-option value="TituloZA">Título Z-A</ion-option>
				<ion-option value="PorCategoria">Filtar categoria</ion-option>
			</ion-select>
		</ion-item>
		<ion-item *ngIf="filter === 'PorCategoria'">
				<ion-label>Categoria</ion-label>	
				<ion-select [(ngModel)]="categoria" (ionChange)="selectCategoria()">
						<ion-option value="todas">Todas</ion-option>
					<ion-option value="agua">Água</ion-option>
					<ion-option value="iluminacao">Iluminação</ion-option>
					<ion-option value="saude">Saúde</ion-option>
					<ion-option value="seguranca">Segurança</ion-option>
					<ion-option value="transporte">Transporte</ion-option>
				</ion-select>
		</ion-item>
	</ion-card>

	<ion-card *ngFor="let report of reports" (click)="presentReportDetail(report)">
		
		<ion-item>
			<ion-avatar item-start>
				<img src="../../assets/imgs/logo.png">
			</ion-avatar>
			<h2>{{ report.authorid }}</h2>
			<p>{{ report.data | date: 'dd/MM/yyyy HH:mm' }}</p>
		</ion-item>

		<ion-card-content>
			<ion-card-title>{{ report.titulo }}</ion-card-title>
			<p>{{ report.descricao }}</p>
			<ion-badge color="orange" *ngFor="let categoria of getCategories(report)" style="margin-right: 10px;">
				{{ categoria }}
			</ion-badge>
		</ion-card-content>

		<ion-row>
			<ion-col>
				<button ion-button icon-only clear small color="orange">
					<ion-icon name="thumbs-up"></ion-icon>
					<div>{{ report.ups }}</div>
				</button>
			</ion-col>
		</ion-row>

	</ion-card>

</ion-content>
